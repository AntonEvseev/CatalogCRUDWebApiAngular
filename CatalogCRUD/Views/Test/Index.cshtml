
@{
    Layout = null;
}

<!DOCTYPE html>

<html ng-app="app">
<head>
    <link href="~/Content/bootstrap.min.css" rel="stylesheet" />
    <script src="~/Scripts/angular.min.js"></script>
    <script src="~/Scripts/app.js"></script>
    <meta name="viewport" content="width=device-width" />
    <title>Каталог товаров</title>
</head>
<body>
    <div> 
        <div data-ng-controller="productController" class="container">
            <div class="row">
                <div class="col-md-12">
                    <strong class="error">{{ error }}</strong>

                    <p data-ng-hide="addModeCategory"><a data-ng-click="toggleAddCategory()" href="javascript:;" class="btn btn-primary">Добавить категорию</a></p>
                    <form name="addCategory" data-ng-show="addModeCategory" style="width:600px;margin:0px auto;">
                        <div class=" form-group">
                            <label for="name" class="col-sm-2 control-label">Название категории:</label>
                            <div>
                                <input type="text" class="form-control" id="name" placeholder="Введите название категории" data-ng-model="newcategory.Category.Name" required />
                            </div>
                        </div>
                        <br />
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" value="Add" data-ng-click="AddCategory()" data-ng-disabled="!addCategory.$valid" class="btn btn-primary" />
                                <input type="button" value="Cancel" data-ng-click="toggleAddCategory()" class="btn btn-primary" />
                            </div>
                        </div>
                        <br />
                    </form>










                    <p data-ng-hide="addMode"><a data-ng-click="toggleAdd()" href="javascript:;" class="btn btn-primary">Добавить товар</a></p>
                    <form name="addProduct" data-ng-show="addMode" style="width:600px;margin:0px auto;">
                        <div class=" form-group">
                            <label for="name" class="col-sm-2 control-label">Имя товара:</label>
                            <div>
                                <input type="text" class="form-control" id="name" placeholder="Введите название товара" data-ng-model="newproduct.Name" required />
                            </div>
                            <label for="description" class="control-label">Описание</label>
                            <div>
                                <input type="text" class="form-control" id="description" placeholder="Введите описание товара" data-ng-model="newproduct.Description" required />
                            </div>
                            <label for="image" class="control-label">Фото</label>
                            <div>
                                <input type="file" name="file" accept="image/*"  required />
                                @*<input type="text" class="form-control" id="image" placeholder="Добавьте фото" data-ng-model="newproduct.Image" required />*@
                            </div>
                            <label for="price" class="control-label">Цена</label>
                            <div>
                                <input type="text" class="form-control" id="price" placeholder="Введите цену товара" data-ng-model="newproduct.Price" required />
                            </div>
                            <label for="category" class="control-label">Категория:</label>
                            <div>
                                <input type="text" class="form-control" id="category" placeholder="Введите категорию товара" data-ng-model="newproduct.Category.Name" required />
                                @*<select><option ng-repeat="product in products">{{product.Category.Name }}{{product.Category.Id}}</option></select>*@
                            </div>
                        </div>
                        <br />
                        <div class="form-group">
                            <div class="col-sm-offset-2 col-sm-10">
                                <input type="submit" value="Add" data-ng-click="add()" data-ng-disabled="!addProduct.$valid" class="btn btn-primary" />
                                <input type="button" value="Cancel" data-ng-click="toggleAdd()" class="btn btn-primary" />
                            </div>
                        </div>
                        <br />
                    </form>
                </div>
                </div>
            <div class="row">
                <div class="col-md-12">
                    <br />
                    <br />
                </div>
            </div>
            <div class="row">
                <div class="col-md-12">
                    <div class="table-responsive">
                        <table class="table table-bordered table-hover" style="width:800px">
                            <tr>
                                <th>#</th>
                                <td>Название товара</td>
                                <th>Описание</th>
                                <th>Фото</th>
                                <th>Цена</th>
                                <th>Категория</th>
                                <th>Country</th>
                            </tr>
                            <tr data-ng-repeat="product in products">
                                <td><strong data-ng-hide="product.editMode">{{ product.Id }}</strong></td>
                                <td>
                                    <p data-ng-hide="product.editMode">{{ product.Name }}</p>
                                    <input data-ng-show="product.editMode" type="text" data-ng-model="product.Name" />
                                </td>
                                <td>
                                    <p data-ng-hide="product.editMode">{{ product.Description }}</p>
                                    <input data-ng-show="product.editMode" type="text" data-ng-model="product.Description" />
                                </td>
                                <td>
                                    <p data-ng-hide="product.editMode">{{ product.Image }}</p>
                                    <input data-ng-show="product.editMode" type="text" data-ng-model="product.Image" />
                                </td>
                                <td>
                                    <p data-ng-hide="product.editMode">{{ product.Price }}</p>
                                    <input data-ng-show="product.editMode" type="text" data-ng-model="product.Price" />
                                </td>
                                <td>
                                    <p data-ng-hide="product.editMode">{{ product.Category.Name }}</p>
                                    <input data-ng-show="product.editMode" type="text" data-ng-model="product.Category.Name" />
                                </td>
                                <td>
                                    <p data-ng-hide="product.editMode"><a data-ng-click="toggleEdit(product)" href="javascript:;">Edit</a> | <a data-ng-click="deleteProduct(product)" href="javascript:;">Delete</a></p>
                                    <p data-ng-show="product.editMode"><a data-ng-click="save(product)" href="javascript:;">Save</a> | <a data-ng-click="toggleEdit(product)" href="javascript:;">Cancel</a></p>
                                </td>
                            </tr>
                        </table>
                        <hr />
                    </div>
                </div>
            </div>
            <div id="mydiv" data-ng-show="loading">
                <img src="Images/ajax-loader.gif" class="ajax-loader" />
            </div>
        </div>

    </div>
    <script src="~/Scripts/jquery-3.1.0.min.js"></script>
    <script src="~/Scripts/bootstrap.min.js"></script>
</body>
</html>
